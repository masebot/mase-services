<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>MASE | AI Consulting for Established Companies | Legacy to Intelligence</title>
    <meta name="description" content="We help established companies turn decades of legacy data into AI-powered competitive advantage. Strategy, implementation, and AI infrastructure that ships.">
    <meta name="keywords" content="AI consulting, enterprise AI, legacy modernization, digital transformation, AI implementation, business AI, AI infrastructure, AI strategy, mid-market AI, manufacturing AI, operational AI">
    <meta name="robots" content="index, follow">
    <meta name="author" content="MASE Services LLC">
    
    <!-- Open Graph -->
    <meta property="og:title" content="MASE | Legacy to Intelligence">
    <meta property="og:description" content="Turn decades of legacy data into AI-powered competitive advantage.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mase-services.com">
    <meta property="og:site_name" content="MASE Services">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="MASE | AI Consulting for Established Companies">
    <meta name="twitter:description" content="Legacy to Intelligence. AI infrastructure that ships.">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://mase-services.com">
    
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ProfessionalService",
        "name": "MASE Services LLC",
        "description": "AI consulting for established companies. We turn legacy data and processes into AI-powered competitive advantage.",
        "url": "https://mase-services.com",
        "email": "mase@mase-services.com",
        "serviceType": ["AI Consulting", "Digital Transformation", "AI Implementation", "Legacy Modernization", "AI Infrastructure"],
        "areaServed": "United States",
        "priceRange": "$$$",
        "founder": {
            "@type": "Person",
            "name": "Mason Chambers"
        }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #00f3ff; --accent-dim: #0088aa; --bg: #030305; }
        body { background-color: var(--bg); color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; margin: 0; }
        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; }
        .accent { color: var(--accent); }
        #webgl-container { position: fixed; inset: 0; z-index: 0; }
        .hud-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; pointer-events: none; padding: 2rem; display: flex; flex-direction: column; justify-content: space-between; }
        .hud-border { position: absolute; border: 1px solid rgba(255,255,255,0.1); width: 20px; height: 20px; }
        .tl { top: 2rem; left: 2rem; border-right: 0; border-bottom: 0; }
        .tr { top: 2rem; right: 2rem; border-left: 0; border-bottom: 0; }
        .bl { bottom: 2rem; left: 2rem; border-right: 0; border-top: 0; }
        .br { bottom: 2rem; right: 2rem; border-left: 0; border-top: 0; }
        .scroll-section { position: relative; z-index: 20; min-height: 100vh; display: flex; align-items: center; justify-content: flex-start; padding: 2rem; pointer-events: none; }
        .content-container-left { margin-left: 5%; width: 100%; max-width: 560px; }
        .content-container-right { margin-left: auto; margin-right: 5%; width: 100%; max-width: 560px; }
        .content-card { background: rgba(0,0,0,0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); padding: 3rem; width: 100%; border-radius: 4px; pointer-events: auto; transform: translateY(20px); opacity: 0; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .marker-text { color: var(--accent); font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase; margin-bottom: 1rem; display: block; font-weight: 500; }
        .glow-text { text-shadow: 0 0 30px rgba(0,243,255,0.4); }
        .progress-container { position: fixed; right: 2rem; top: 50%; transform: translateY(-50%); height: 200px; width: 2px; background: rgba(255,255,255,0.1); z-index: 50; }
        .progress-bar { width: 100%; background: var(--accent); height: 0%; box-shadow: 0 0 10px var(--accent); }
        .status-pill { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 1px solid rgba(255,255,255,0.1); border-radius: 99px; font-family: monospace; font-size: 0.8rem; background: rgba(0,0,0,0.5); }
        .status-dot { width: 6px; height: 6px; border-radius: 50%; background-color: #555; transition: all 0.3s; }
        .status-dot.active { background-color: var(--accent); box-shadow: 0 0 8px var(--accent); }
        .status-dot.alert { background-color: #ff2a2a; box-shadow: 0 0 8px #ff2a2a; }
        input, textarea, select { width: 100%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 1rem; color: white; margin-bottom: 1rem; border-radius: 4px; transition: all 0.3s; }
        input:focus, textarea:focus, select:focus { outline: none; border-color: var(--accent); background: rgba(255,255,255,0.1); }
        .cta-button { background-color: white; color: black; font-weight: bold; padding: 1rem 2rem; border-radius: 4px; text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.875rem; transition: all 0.3s ease; cursor: pointer; pointer-events: auto; border: 1px solid white; }
        .cta-button:hover { background-color: var(--accent); border-color: var(--accent); box-shadow: 0 0 15px var(--accent); }
        .service-item { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .service-item:last-child { border-bottom: none; }
        .service-icon { flex-shrink: 0; width: 40px; height: 40px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--accent); }
        .case-study { border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; background: rgba(255,255,255,0.02); transition: all 0.3s; }
        .case-study:hover { border-color: var(--accent); background: rgba(0,243,255,0.05); }
        .case-study-metric { font-size: 1.75rem; font-weight: 700; color: var(--accent); }
        .faq-item { border-bottom: 1px solid rgba(255,255,255,0.1); padding: 1.25rem 0; }
        .faq-q { font-weight: 600; margin-bottom: 0.5rem; color: white; }
        .faq-a { color: #888; font-size: 0.9rem; line-height: 1.6; }
        .hero-subtitle { font-size: 1.15rem; line-height: 1.8; color: #a0a0a0; max-width: 600px; margin: 0 auto; }
        .hero-subtitle strong { color: #fff; }
        .industry-tag { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 1px solid rgba(255,255,255,0.15); border-radius: 99px; font-size: 0.75rem; margin: 0.25rem; color: #aaa; transition: all 0.3s; }
        .industry-tag:hover { border-color: var(--accent); color: white; }
        .trust-badge { display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.7rem; color: #666; }
    </style>
</head>
<body>
    <canvas id="webgl-container"></canvas>

    <div class="hud-layer">
        <div class="hud-border tl"></div><div class="hud-border tr"></div><div class="hud-border bl"></div><div class="hud-border br"></div>
        <nav class="flex justify-between items-center w-full pointer-events-auto">
            <div class="text-2xl font-bold tracking-tighter font-mono">MASE<span class="accent">_</span></div>
            <div class="flex items-center gap-6">
                <a href="/research" class="text-sm text-gray-400 hover:text-white transition hidden md:block">Research</a>
                <a href="/learn" class="text-sm text-gray-400 hover:text-white transition hidden md:block">Learn</a>
                <a href="#section-contact" class="cta-button py-2 px-6 text-xs bg-transparent text-white border-white/20 hover:bg-white hover:text-black">Get Started</a>
            </div>
        </nav>
        <div></div>
    </div>

    <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>

    <!-- HERO -->
    <section class="scroll-section" style="justify-content: center;" id="section-hero">
        <div class="content-card text-center" style="background: transparent; border: none; backdrop-filter: none; max-width: 900px;">
            <span class="marker-text">AI Consulting for Established Companies</span>
            <h1 class="text-5xl md:text-7xl font-bold mb-8 glow-text tracking-tight leading-tight">
                Legacy to Intelligence
            </h1>
            <p class="hero-subtitle">
                Your competitors are investing millions in AI. You have something they don't: <strong>20 years of data, proven processes, and institutional knowledge.</strong> We turn that into measurable competitive advantage.
            </p>
            <div class="mt-10">
                <a href="#section-contact" class="cta-button">Book Strategy Session</a>
            </div>
            <div class="mt-12 text-xs text-gray-500 font-mono animate-pulse">SCROLL TO EXPLORE</div>
        </div>
    </section>

    <!-- SECTION 2: The Problem -->
    <section class="scroll-section" id="section-chaos">
        <div class="content-container-left">
            <div class="content-card">
                <span class="marker-text" style="color: #ff6b6b;">The Reality</span>
                <h2 class="text-3xl font-bold mb-4">The Window Is Closing</h2>
                <p class="text-gray-300 mb-4 leading-relaxed">
                    Your competitors are deploying AI. Your experienced employees are retiring—taking decades of knowledge with them. <strong class="text-white">The data sitting in your legacy systems is either an asset or a liability.</strong>
                </p>
                <p class="text-gray-400 text-sm leading-relaxed mb-6">
                    The companies that act now will compound their advantage. The ones that wait will spend years catching up.
                </p>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 text-sm text-gray-400">
                        <i data-lucide="database" class="w-4 h-4 text-red-400"></i>
                        <span>Legacy data trapped in old systems</span>
                    </div>
                    <div class="flex items-center gap-3 text-sm text-gray-400">
                        <i data-lucide="brain" class="w-4 h-4 text-red-400"></i>
                        <span>Expertise locked in people's heads</span>
                    </div>
                    <div class="flex items-center gap-3 text-sm text-gray-400">
                        <i data-lucide="clock" class="w-4 h-4 text-red-400"></i>
                        <span>Manual processes that don't scale</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 3: The Solution -->
    <section class="scroll-section" id="section-scan">
        <div class="content-container-left">
            <div class="content-card">
                <span class="marker-text">What We Build</span>
                <h2 class="text-3xl font-bold mb-6">AI Infrastructure That Ships</h2>
                
                <div class="service-item">
                    <div class="service-icon"><i data-lucide="scan" class="w-5 h-5"></i></div>
                    <div>
                        <div class="font-semibold mb-1">Data Intelligence</div>
                        <div class="text-gray-400 text-sm">Turn legacy databases, spreadsheets, and documents into searchable, actionable knowledge bases.</div>
                    </div>
                </div>
                
                <div class="service-item">
                    <div class="service-icon"><i data-lucide="bot" class="w-5 h-5"></i></div>
                    <div>
                        <div class="font-semibold mb-1">AI Assistants</div>
                        <div class="text-gray-400 text-sm">Custom agents that know your business—answering questions, processing requests, handling operations 24/7.</div>
                    </div>
                </div>
                
                <div class="service-item">
                    <div class="service-icon"><i data-lucide="workflow" class="w-5 h-5"></i></div>
                    <div>
                        <div class="font-semibold mb-1">Process Automation</div>
                        <div class="text-gray-400 text-sm">Identify bottlenecks and automate repetitive work. Your team focuses on judgment, not data entry.</div>
                    </div>
                </div>
                
                <div class="service-item">
                    <div class="service-icon"><i data-lucide="trending-up" class="w-5 h-5"></i></div>
                    <div>
                        <div class="font-semibold mb-1">Predictive Operations</div>
                        <div class="text-gray-400 text-sm">Forecast demand, predict maintenance needs, optimize scheduling—all based on your historical data.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 4: Industries -->
    <section class="scroll-section" id="section-industries">
        <div class="content-container-right">
            <div class="content-card">
                <span class="marker-text" style="color: #a78bfa;">Industries</span>
                <h2 class="text-3xl font-bold mb-4">Built for Companies Like Yours</h2>
                <p class="text-gray-400 text-sm mb-6">We work with established companies across industries—organizations with real data, real customers, and real complexity.</p>
                
                <div class="flex flex-wrap mb-6">
                    <span class="industry-tag"><i data-lucide="factory" class="w-3 h-3"></i> Manufacturing</span>
                    <span class="industry-tag"><i data-lucide="truck" class="w-3 h-3"></i> Distribution</span>
                    <span class="industry-tag"><i data-lucide="hard-hat" class="w-3 h-3"></i> Construction</span>
                    <span class="industry-tag"><i data-lucide="landmark" class="w-3 h-3"></i> Financial Services</span>
                    <span class="industry-tag"><i data-lucide="wrench" class="w-3 h-3"></i> Industrial Services</span>
                    <span class="industry-tag"><i data-lucide="building-2" class="w-3 h-3"></i> Professional Services</span>
                    <span class="industry-tag"><i data-lucide="stethoscope" class="w-3 h-3"></i> Healthcare Admin</span>
                    <span class="industry-tag"><i data-lucide="users" class="w-3 h-3"></i> Family Businesses</span>
                </div>

                <div class="border-t border-white/10 pt-6">
                    <div class="text-sm text-gray-300 mb-2">Typical client profile:</div>
                    <ul class="text-sm text-gray-400 space-y-1">
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-3 h-3 accent"></i> $10M – $500M revenue</li>
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-3 h-3 accent"></i> 10+ years in business</li>
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-3 h-3 accent"></i> Data in legacy systems</li>
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-3 h-3 accent"></i> Ready to modernize</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 5: Case Studies -->
    <section class="scroll-section" id="section-cases">
        <div class="content-container-left">
            <div class="content-card">
                <span class="marker-text" style="color: #4ade80;">Results</span>
                <h2 class="text-3xl font-bold mb-6">Transformation Stories</h2>
                
                <div class="case-study">
                    <div class="flex justify-between items-start mb-3">
                        <div class="text-xs text-gray-500 uppercase tracking-wider">Manufacturing</div>
                        <div class="case-study-metric">73%</div>
                    </div>
                    <div class="font-semibold mb-2">Regional Manufacturer Digitizes Tribal Knowledge</div>
                    <div class="text-gray-400 text-sm">Captured 30 years of production expertise in an AI system before key retirements. Reduced training time for new operators by 73%.</div>
                </div>

                <div class="case-study">
                    <div class="flex justify-between items-start mb-3">
                        <div class="text-xs text-gray-500 uppercase tracking-wider">Distribution</div>
                        <div class="case-study-metric">4.2x</div>
                    </div>
                    <div class="font-semibold mb-2">Logistics Company Automates Quote Generation</div>
                    <div class="text-gray-400 text-sm">AI-powered quoting that processes historical data to generate accurate estimates 4.2x faster than manual methods.</div>
                </div>

                <div class="case-study">
                    <div class="flex justify-between items-start mb-3">
                        <div class="text-xs text-gray-500 uppercase tracking-wider">Professional Services</div>
                        <div class="case-study-metric">$1.8M</div>
                    </div>
                    <div class="font-semibold mb-2">Consulting Firm Deploys Knowledge Assistant</div>
                    <div class="text-gray-400 text-sm">Internal AI that searches 15 years of project history, proposals, and deliverables. Estimated $1.8M saved in duplicated work.</div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 6: FAQ -->
    <section class="scroll-section" id="section-faq">
        <div class="content-container-right">
            <div class="content-card">
                <span class="marker-text">Common Questions</span>
                <h2 class="text-3xl font-bold mb-6">What to Expect</h2>
                
                <div class="faq-item">
                    <div class="faq-q">What makes MASE different from other AI consultants?</div>
                    <div class="faq-a">We ship. Most consultants deliver slide decks and roadmaps. We deliver working AI systems in production. Our focus is established companies with real data—not startups chasing hype.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q">Our data is a mess. Can you still help?</div>
                    <div class="faq-a">That's normal. We've built AI on top of 30-year-old spreadsheets, paper records, and legacy ERP systems. The data doesn't need to be perfect—it needs to be yours.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q">How fast can we see results?</div>
                    <div class="faq-a">30-60 days for initial impact. We start with one high-value use case, prove ROI, then expand. No 18-month roadmaps before anything works.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-q">What does this cost?</div>
                    <div class="faq-a">Strategy sessions: $500. Implementation: $15K-$50K+ depending on scope. We give you a clear quote after understanding your situation—no surprise invoices.</div>
                </div>
                <div class="faq-item" style="border-bottom: none;">
                    <div class="faq-q">Will AI replace our employees?</div>
                    <div class="faq-a">No. It makes them dramatically more effective. AI handles the repetitive work so your people focus on judgment, relationships, and expertise. Most clients take on more work, not less staff.</div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 7: Contact -->
    <section class="scroll-section" id="section-contact">
        <div class="content-container-left">
            <div class="content-card">
                <div id="form-container">
                    <span class="marker-text">Get Started</span>
                    <h2 class="text-3xl font-bold mb-2">Book Your Strategy Session</h2>
                    <p class="text-gray-400 mb-6 text-sm leading-relaxed">
                        A focused conversation about where AI can have the most impact on your business. No jargon, no pitch decks. Just a clear assessment and actionable next steps.
                    </p>
                    <form id="contact-form" action="https://formspree.io/f/your-form-id" method="POST">
                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" name="name" placeholder="Name" required aria-label="Your name" />
                            <input type="text" name="company" placeholder="Company" required aria-label="Company name" />
                        </div>
                        <input type="email" name="email" placeholder="Work Email" required aria-label="Work email address" />
                        <select name="stage" required aria-label="Current situation">
                            <option value="">What's driving your interest in AI?</option>
                            <option value="competitive">Competitors are moving faster</option>
                            <option value="knowledge">Need to capture institutional knowledge</option>
                            <option value="efficiency">Want to automate manual processes</option>
                            <option value="data">Have data we're not leveraging</option>
                            <option value="exploring">Just exploring options</option>
                        </select>
                        <textarea name="message" placeholder="Tell us briefly about your business (optional)" rows="3" aria-label="Additional context"></textarea>
                        <button type="submit" class="w-full cta-button mt-4" id="submit-btn">Book Strategy Session</button>
                    </form>
                </div>
                
                <div id="form-success" style="display: none; text-align: center; padding: 2rem;">
                    <div class="mb-4"><i data-lucide="check-circle" class="w-12 h-12 mx-auto accent"></i></div>
                    <h3 class="text-2xl font-bold mb-2">Request Received</h3>
                    <p class="text-gray-400">We'll be in touch within 24 hours.</p>
                </div>

                <div class="mt-8 pt-6 border-t border-white/10 flex justify-between items-center text-xs text-gray-500">
                    <div class="trust-badge">
                        <i data-lucide="shield-check" class="w-3 h-3"></i>
                        <span>MASE Services LLC</span>
                        <span class="mx-2">|</span>
                        <span>California</span>
                    </div>
                    <div class="trust-badge">
                        <span class="accent">AI-Native</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div style="height: 10vh;"></div>

    <!-- Footer -->
    <footer class="relative z-20 border-t border-white/10 py-8 px-8">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="text-sm text-gray-500">
                2026 Mase Services LLC
            </div>
            <div class="flex items-center gap-6 text-sm text-gray-500">
                <a href="mailto:mase@mase-services.com" class="hover:text-white transition flex items-center gap-2">
                    <i data-lucide="mail" class="w-4 h-4"></i>
                    mase@mase-services.com
                </a>
                <a href="/llms.txt" class="hover:text-accent transition">llms.txt</a>
            </div>
        </div>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Form handling
        const form = document.getElementById('contact-form');
        const formContainer = document.getElementById('form-container');
        const formSuccess = document.getElementById('form-success');
        const submitBtn = document.getElementById('submit-btn');

        form.addEventListener('submit', async function(e) {
            e.preventDefault();
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';

            const formData = new FormData(form);
            
            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    formContainer.style.display = 'none';
                    formSuccess.style.display = 'block';
                    lucide.createIcons();
                } else {
                    const subject = encodeURIComponent(`Strategy Session Request from ${formData.get('name')}`);
                    const body = encodeURIComponent(`Name: ${formData.get('name')}\nCompany: ${formData.get('company')}\nEmail: ${formData.get('email')}\nInterest: ${formData.get('stage')}\n\nMessage:\n${formData.get('message') || 'N/A'}`);
                    window.location.href = `mailto:mase@mase-services.com?subject=${subject}&body=${body}`;
                }
            } catch (error) {
                const subject = encodeURIComponent(`Strategy Session Request from ${formData.get('name')}`);
                const body = encodeURIComponent(`Name: ${formData.get('name')}\nCompany: ${formData.get('company')}\nEmail: ${formData.get('email')}\nInterest: ${formData.get('stage')}\n\nMessage:\n${formData.get('message') || 'N/A'}`);
                window.location.href = `mailto:mase@mase-services.com?subject=${subject}&body=${body}`;
            }

            submitBtn.disabled = false;
            submitBtn.textContent = 'Book Strategy Session';
        });

        // Three.js animation
        const config = {
            particleCount: 400,
            cubeSize: 0.7,
            spread: 10,
            colors: {
                building: new THREE.Color('#5a6270'),
                buildingLight: new THREE.Color('#6a7280'),
                chaos: new THREE.Color('#4a4a4a'),
                alert: new THREE.Color('#ff2a2a'),
                safeDim: new THREE.Color('#0088aa'),
                safeBright: new THREE.Color('#00ffff')
            }
        };

        const canvas = document.querySelector('#webgl-container');
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x030305, 0.018);
        
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.set(0, 2, 22);

        const ambientLight = new THREE.AmbientLight(0x404050, 2.5);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(10, 20, 15);
        scene.add(directionalLight);
        const fillLight = new THREE.DirectionalLight(0x334455, 0.4);
        fillLight.position.set(-10, 5, -10);
        scene.add(fillLight);

        const geometry = new THREE.BoxGeometry(config.cubeSize, config.cubeSize, config.cubeSize);
        const material = new THREE.MeshStandardMaterial({ color: 0x5a6270, roughness: 0.7, metalness: 0.1 });
        const cubes = new THREE.InstancedMesh(geometry, material, config.particleCount);
        scene.add(cubes);

        const dummy = new THREE.Object3D();
        const buildingPositions = [];
        const randomPositions = [];
        const gridPositions = [];
        const colors = new Float32Array(config.particleCount * 3);
        const isRed = [];

        const buildings = [
            { x: 0, z: 0, w: 4, d: 3, h: 18 },
            { x: 5, z: 0, w: 3, d: 2.5, h: 13 },
            { x: -5, z: 0, w: 3, d: 2.5, h: 14 },
            { x: 9, z: 0, w: 2.5, d: 2, h: 9 },
            { x: -9, z: 0, w: 2.5, d: 2, h: 10 },
            { x: 3, z: 3, w: 2.5, d: 2, h: 8 },
            { x: -3, z: 3, w: 2.5, d: 2, h: 7 },
            { x: 7, z: 2.5, w: 2, d: 2, h: 6 },
            { x: -7, z: 2.5, w: 2, d: 2, h: 5 },
            { x: 12, z: 0, w: 2, d: 2, h: 5 },
            { x: -12, z: 0, w: 2, d: 2, h: 6 },
            { x: 0, z: 4, w: 10, d: 2, h: 3 },
        ];

        const spacing = config.cubeSize * 1.02;
        buildings.forEach(b => {
            for (let y = 0; y < b.h; y += spacing) {
                for (let x = -b.w/2; x < b.w/2; x += spacing) {
                    for (let z = -b.d/2; z < b.d/2; z += spacing) {
                        if (buildingPositions.length/3 < config.particleCount) {
                            buildingPositions.push(b.x + x, y - 6, b.z + z);
                        }
                    }
                }
            }
        });

        while (buildingPositions.length < config.particleCount * 3) {
            const bIdx = Math.floor(Math.random() * buildings.length);
            const b = buildings[bIdx];
            buildingPositions.push(b.x + (Math.random()-0.5)*b.w, Math.random()*b.h - 6, b.z + (Math.random()-0.5)*b.d);
        }

        for (let i = 0; i < config.particleCount; i++) {
            randomPositions.push(
                (Math.random()-0.5) * config.spread * 2.5,
                (Math.random()-0.5) * config.spread * 2.5,
                (Math.random()-0.5) * config.spread * 2.5
            );

            const phi = Math.acos(-1 + (2*i)/config.particleCount);
            const theta = Math.sqrt(config.particleCount * Math.PI) * phi;
            const radius = 5;
            gridPositions.push(
                radius * Math.cos(theta) * Math.sin(phi),
                radius * Math.sin(theta) * Math.sin(phi),
                radius * Math.cos(phi)
            );

            isRed.push(Math.random() < 0.2);
            
            colors[i*3] = config.colors.building.r;
            colors[i*3+1] = config.colors.building.g;
            colors[i*3+2] = config.colors.building.b;

            dummy.position.set(buildingPositions[i*3], buildingPositions[i*3+1], buildingPositions[i*3+2]);
            dummy.rotation.set(0,0,0);
            dummy.updateMatrix();
            cubes.setMatrixAt(i, dummy.matrix);
        }
        cubes.instanceColor = new THREE.InstancedBufferAttribute(colors, 3);

        const scanGeo = new THREE.SphereGeometry(1, 32, 32);
        const scanMat = new THREE.MeshBasicMaterial({ color: 0x00f3ff, wireframe: true, transparent: true, opacity: 0 });
        const scanSphere = new THREE.Mesh(scanGeo, scanMat);
        scene.add(scanSphere);
        
        const glowMat = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0, blending: THREE.AdditiveBlending });
        const scanGlow = new THREE.Mesh(new THREE.SphereGeometry(0.8, 32, 32), glowMat);
        scene.add(scanGlow);

        const state = {
            buildingChaosMix: 0,
            chaosOrderMix: 0,
            scanRadius: 0,
            rotationSpeed: 0.0003,
            cubeOffsetX: 0,
            brightness: 0
        };

        gsap.registerPlugin(ScrollTrigger);

        const tl = gsap.timeline({
            scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: 1.5 }
        });

        tl.to(state, { buildingChaosMix: 1, duration: 2 });
        tl.to(camera.position, { y: 0, z: 14, duration: 2 }, "<");
        
        tl.to([scanSphere.material, scanGlow.material], { opacity: 0.5, duration: 0.2 });
        tl.to(state, { scanRadius: 25, duration: 4 }, "<");
        tl.to(scanSphere.scale, { x: 25, y: 25, z: 25, duration: 4 }, "<");
        tl.to(scanGlow.scale, { x: 24, y: 24, z: 24, duration: 4 }, "<");
        tl.to([scanSphere.material, scanGlow.material], { opacity: 0, duration: 1 }, "-=3");

        tl.to(state, { chaosOrderMix: 1, cubeOffsetX: 5, brightness: 0.5, duration: 3 });
        tl.to(camera.position, { z: 14, duration: 3 }, "<");

        tl.to(state, { brightness: 1, duration: 2 });
        tl.to(camera.position, { z: 12, duration: 2 }, "<");

        document.querySelectorAll('.content-card').forEach(card => {
            gsap.fromTo(card, { opacity: 0, y: 30 }, { 
                opacity: 1, y: 0, duration: 1,
                scrollTrigger: { trigger: card, start: "top 80%", end: "top 50%", toggleActions: "play none none reverse" }
            });
        });

        gsap.to("#progress-bar", { height: "100%", ease: "none", scrollTrigger: { trigger: "body", scrub: 0 } });

        // Scroll animations only

        const tempColor = new THREE.Color();
        const tempPos = new THREE.Vector3();
        const currentPos = new THREE.Vector3();
        const targetPos = new THREE.Vector3();
        const spherePos = new THREE.Vector3();
        const brightBlue = new THREE.Color();

        function animate() {
            requestAnimationFrame(animate);
            
            cubes.rotation.y += state.rotationSpeed;
            cubes.position.x = state.cubeOffsetX;
            
            scanSphere.rotation.y -= 0.01;
            scanSphere.rotation.z += 0.01;

            const time = Date.now() * 0.0005;

            brightBlue.lerpColors(config.colors.safeDim, config.colors.safeBright, state.brightness);

            for (let i = 0; i < config.particleCount; i++) {
                const ix3 = i * 3;
                
                currentPos.set(buildingPositions[ix3], buildingPositions[ix3+1], buildingPositions[ix3+2]);
                targetPos.set(randomPositions[ix3], randomPositions[ix3+1], randomPositions[ix3+2]);
                tempPos.lerpVectors(currentPos, targetPos, state.buildingChaosMix);
                
                spherePos.set(gridPositions[ix3], gridPositions[ix3+1], gridPositions[ix3+2]);
                tempPos.lerp(spherePos, state.chaosOrderMix);

                dummy.position.copy(tempPos);

                const rotFactor = (1 - state.chaosOrderMix);
                dummy.rotation.set(
                    Math.sin(i * 0.5 + time) * rotFactor * 0.5,
                    Math.cos(i * 0.3 + time) * rotFactor * 0.5,
                    0
                );

                const dist = tempPos.length();
                let scale = 1;

                if (state.buildingChaosMix < 0.3) {
                    tempColor.copy(i % 3 === 0 ? config.colors.buildingLight : config.colors.building);
                } else if (state.buildingChaosMix < 0.6) {
                    tempColor.lerpColors(config.colors.building, isRed[i] ? config.colors.alert : config.colors.chaos, (state.buildingChaosMix - 0.3) / 0.3);
                } else {
                    tempColor.copy(isRed[i] ? config.colors.alert : config.colors.chaos);
                }

                if (state.scanRadius > 0.1) {
                    if (dist < state.scanRadius) {
                        if (isRed[i]) {
                            scale = 0;
                        } else if (dist > state.scanRadius - 2) {
                            tempColor.setHex(0xffffff);
                        } else {
                            tempColor.copy(brightBlue);
                        }
                    }
                }

                if (state.chaosOrderMix > 0.1 && !isRed[i]) {
                    tempColor.lerp(brightBlue, state.chaosOrderMix);
                }

                if (scale > 0) {
                    scale = 1 + Math.sin(time * 2 + i) * 0.08;
                }

                dummy.scale.set(scale, scale, scale);
                dummy.updateMatrix();
                cubes.setMatrixAt(i, dummy.matrix);
                cubes.setColorAt(i, tempColor);
            }

            cubes.instanceMatrix.needsUpdate = true;
            cubes.instanceColor.needsUpdate = true;

            // Animation progress tracked internally

            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>
